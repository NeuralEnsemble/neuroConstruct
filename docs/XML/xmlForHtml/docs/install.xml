<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE document PUBLIC "-//APACHE//DTD Documentation V2.0//EN" "http://forrest.apache.org/dtd/document-v20.dtd">
<document>
    <header>
        <title>Installing and running neuroConstruct</title>
    </header>
    <body>
        
        <section>
            <title>Requirements</title>

            <p>neuroConstruct has been tested on on WinXP/NT, Red Hat Linux and openSUSE and Mac OS (please <a href="http://www.neuroconstruct.org/contact/index.html">let us know</a>
            if you've any other experiences on other systems). </p>
            
            <p>A local installation of <a  href="http://www.neuron.yale.edu/neuron/">NEURON</a>,
            <a  href="http://www.genesis-sim.org/GENESIS/">GENESIS</a>, <a  href="http://moose.sourceforge.net">MOOSE</a>,
            <a  href="http://www.psics.org">PSICS</a> or a <a  href="http://neuralensemble.org/trac/PyNN">PyNN</a> compliant simulator
            will be needed to execute the simulation scripts generated by neuroConstruct.
                    
            Details of the interaction with these environments is available <a href="interact.html">here</a>.  </p>


            <p>neuroConstruct will run on most machines which can run Java and Java3D. For networks/cells with >5000 total segments,
                you'll need a fairly modern machine, and the more RAM and graphics memory, the better; 1GB RAM and 128MB graphics is usually fine, higher is better.
            See <a href="Glossary_gen.html#3D View of Cells">here</a> for tips on improving graphics performance on slower machines.<br/></p>

            <p>Approx. 130MB of disk space is required for the installation.</p>


            <p>Install Java J2SE 5 or higher. Available <a href="http://java.sun.com/javase/downloads/index.jsp">here</a>. It's better to download the <strong>JDK
                (Java Development Kit)</strong>, which includes command line tools for Java. </p>


            <p>From version 1.2.0 the libraries for <a  href="http://java.sun.com/javase/technologies/desktop/java3d/">Java3D</a> are included with the neuroConstruct download.
                There is no need to install this separately. Also, jar files and binaries for <a  href="http://www.hdfgroup.org/HDF5/">HDF5</a> and
                <a  href="http://www.jython.org/">Jython</a>
           are included with the standard release.</p>


        </section>
        <section>
            <title>Installation on Windows</title>

                <p>Make sure you have the correct version of Java installed (see above). Open a command prompt (<strong>Start -> Programs -> Accessories ->
                    Command Prompt</strong>) and type <strong>java -version</strong>. The version should be 1.5 or higher.</p>

            <p>There are 2 options available for installation on a Windows machine: <strong>automatic installer</strong> or <strong>zip file</strong>.</p>
            <p>&nbsp;&nbsp;<strong>Automatic installer</strong></p>

            <ol>

            <li>Download the windows installer from the <a href="http://www.neuroconstruct.org/nCinfo/form.php">neuroConstruct download page</a>.
            Note: this is <em><strong>not currently recommended for Vista, Windows 7 or 64bit Windows machines</strong></em>. It's better to use the zip file below instead.</li>


                <li>Double click on the downloaded <strong>neuroConstruct_windows_1.x.x.exe</strong> file (where 1.x.x represents the current version number).</li>

                <li>Select the install location. <strong>NOTE: it's best **not** to use a directory with a space in the name</strong> (though <strong>C:\Program Files</strong> on
                32bit Windows is fine).
                    By default the Windows installer puts the code into <strong>C:\Program Files\neuroConstruct_1.x.x</strong>.</li>

                <li>On <strong>Vista</strong> and <strong>Windows 7</strong>, the installed files under <strong>C:\Program Files\neuroConstruct_1.x.x</strong> have read/write permissions designed
                to make modification of installed files difficult. This has an
                impact on the examples which are under this directory. These problems can be solved by browsing to the folder, and recursively setting
            Full access control for the current user to all files in that directory via <strong>right click -> Properties -> Security -> Edit...</strong>.</li>

                <li>The application can be launched via the desktop icon, or via <strong>Start -> Programs -> neuroConstruct_1.x.x -> neuroConstruct_1.x.x</strong>.
                There is also a link to the documentation in this menu, or the HTML files which are available at:
                <strong>C:\Program Files\neuroConstruct_1.x.x\docs\website\docs</strong>.</li>

                <li>neuroConstruct can also be run/rebuilt using the <strong>nC.bat</strong> script. See points 3, 4 and 5 below. Note also the information there
                about running neuroConstruct with extra RAM.</li>


            </ol>

            <p>&nbsp;&nbsp;<strong>Zip file install</strong></p>

            <ol>
                <li>Download <strong>neuroConstruct_1.x.x.zip</strong> from the <a href="http://www.neuroconstruct.org/nCinfo/form.php">download page</a>.
                This contains a directory tree from <strong>neuroConstruct_1.x.x</strong>, containing the main jar file and directories with the examples, documentation, etc.</li>

                <li>Unzip this to a convenient location e.g. to <strong>C:\neuroConstruct_1.x.x</strong>.</li>


            <li>There is a precompiled jar file, (<strong>neuroConstruct_1.x.x.jar</strong>) present.
                neuroConstruct can be run using this by executing <strong>nC.bat</strong>, either at the command prompt in the installation directory or
                by double clicking on it in the file explorer. NOTE: you will have to open <strong>nC.bat</strong> for editing first and change the value
                of <strong>NC_HOME</strong> to the installation directory.</li>

                <li>The <strong>NC_MAX_MEMORY=450M</strong> used in this file changes the maximum amount of memory available to the Java Virtual Machine.
                Alter this according to your machine's capabilities (use approx 50% of max memory available).
                NOTE: it's been found that requesting too much memory for neuroConstruct under Windows can result in the application crashing when
                the graphics card is required to display large networks; aim for less than half the available RAM. See points on displaying
            large 3D networks <a href="Glossary_gen.html#3D View of Cells">here</a>.</li>


            <li>The Java source code of neuroConstruct is included in the <strong>src</strong> directory. This can be recompiled using: <strong>nC.bat -make</strong>.
            You'll need the Java compiler at command line (try typing <strong>javac -version</strong>, and if this fails add the <strong>bin</strong>
            directory of the installed JDK to the <strong>PATH</strong> environment variable).
                It is also possible to install <a href="http://ant.apache.org/">Apache Ant</a> and compile (type <strong>ant</strong>) and run (type <strong>ant run</strong>)
                the code using the settings in <strong>build.xml</strong>.</li>
         

                </ol>

        </section>
        <section>
            <title>Installation on Linux</title>


            <p>Make sure you have the packages gcc, ncurses and ncurses-devel installed to allow compilation of NEURON mod files. More tips on interaction with NEURON <a href="interact.html">here</a>.</p>

                <p>Make sure you have the correct version of Java installed (see above). Open a terminal window and type <strong>java -version</strong>.
                The version should be 1.5 or higher. neuroConstruct has to date been developed using Sun's Java SE, as opposed to OpenJDK, and some of the GUI elements
                 might look different if using OpenJDK, which is the default option on many Linux distributions. If you find buttons disappearing or labels too large for
                 the dialog boxes, try using the Sun JDK instead.</p>

            <p>There are 2 options available for installation on a Linux/Unix machine: <strong>automatic installer</strong> or <strong>zip file</strong>.</p>
            <p>&nbsp;&nbsp;<strong>Automatic installer</strong></p>

            <ol>

            <li>Download the Linux installer from the <a href="http://www.neuroconstruct.org/nCinfo/form.php">neuroConstruct download page</a>.
            Note: this is <em><strong>not currently recommended for 64bit Linux machines</strong></em>. It's better to use the zip file below instead.</li>


                <li>
                Click on the downloaded <strong>neuroConstruct_unix_1.x.x.sh</strong> file (where 1.x.x represents the current version number), or open a terminal, go to the install
                directory and type <strong>./neuroConstruct_unix_1.x.x.sh</strong>. You may need to give exectue permissions to the file first: <strong>chmod u+x neuroConstruct_unix_1.x.x.sh</strong>.
                </li>

                <li>Select the install location. <strong>NOTE: it's best **not** to use a directory with a space in the name</strong>.
                A suggested location is <strong>/home/username/neuroConstruct_1.x.x</strong>.</li>


                <li>The application can be launched via the desktop shortcut, though this is not guaranteed to work on all distributions.
                It may be better to open a terminal, go to the install directory and run <strong>./neuroConstruct_1.x.x</strong>.
                </li>

                <li>neuroConstruct can also be run/rebuilt using the <strong>nC.sh</strong> script. See points 3, 4 and 5 below. Note also the information there
                about running neuroConstruct with extra RAM.</li>


            </ol>

            <p>&nbsp;&nbsp;<strong>Zip file install</strong></p>

            <ol>
                <li>Download <strong>neuroConstruct_1.x.x.zip</strong> from the <a href="http://www.neuroconstruct.org/nCinfo/form.php">download page</a>.
                This contains a directory tree from <strong>neuroConstruct_1.x.x</strong>, containing the main jar file and directories with the examples, documentation, etc.</li>

                <li>Unzip this to a convenient location e.g. to <strong>/home/username/neuroConstruct_1.x.x</strong>.</li>


            <li>There is a precompiled jar file, (<strong>neuroConstruct_1.x.x.jar</strong>) present.
                neuroConstruct can be run using this by executing <strong>./nC.sh</strong>, either at the command prompt in the installation directory or
                by double clicking on it in the file explorer. You will need to give execute permissions to the file first: <strong>chmod u+x nC.sh</strong>.
                NOTE: you will have to open <strong>nC.sh</strong> for editing first and change the value
                of <strong>NC_HOME</strong> to the installation directory.</li>

                <li>The <strong>NC_MAX_MEMORY=450M</strong> used in this file changes the maximum amount of memory available to the Java Virtual Machine.
                Alter this according to your machine's capabilities (use approx 50% of max memory available).</li>


            <li>The Java source code of neuroConstruct is included in the <strong>src</strong> directory. This can be recompiled using: <strong>./nC.sh -make</strong>.
            You'll need the Java compiler availabe at command line (try typing <strong>javac -version</strong>).
                It is also possible to install <a href="http://ant.apache.org/">Apache Ant</a> and compile (type <strong>ant</strong>) and run (type <strong>ant run</strong>)
                the code using the settings in <strong>build.xml</strong>.</li>


                </ol>


        </section>
        <section>
            <title>Installation on Mac</title>

            <p>You'll need to install the Developer Tools (XCode) in addition to the NEURON *.dmg to allow compilation of mod files.
               More tips on interaction with NEURON <a href="interact.html">here</a></p>

                <p>Make sure you have the correct version of Java installed (see above). Open a terminal window and type <strong>java -version</strong>.
                The version should be 1.5 or higher. </p>

            <p>There are 2 options available for installation on a Mac machine: <strong>automatic installer</strong> or <strong>zip file</strong>.</p>
            <p>&nbsp;&nbsp;<strong>Automatic installer</strong></p>

            <ol>

            <li>Download the Mac installer from the <a href="http://www.neuroconstruct.org/nCinfo/form.php">neuroConstruct download page</a>.
            Note: this is <em><strong>not currently recommended for 64bit Mac machines</strong></em>. It's better to use the zip file below instead.</li>


                <li>
                Click on the downloaded <strong>neuroConstruct_macos_1.x.x.sh</strong> file (where 1.x.x represents the current version number), or open a terminal, go to the install
                directory and type <strong>./neuroConstruct_macos_1.x.x.sh</strong>. You may need to give exectue permissions to the file first: <strong>chmod u+x neuroConstruct_macos_1.x.x.sh</strong>.
                </li>

                <li>Select the install location. <strong>NOTE: it's best **not** to use a directory with a space in the name</strong>.
                The default location is <strong>/Applications/neuroConstruct_1.x.x</strong>.</li>


                <li>The application can be launched via the desktop shortcut, though this is not guaranteed to work on all Mac versions.
                It may be better to open a terminal, go to the install directory and run <strong>./neuroConstruct_1.x.x</strong>.
                </li>

                <li>neuroConstruct can also be run/rebuilt using the <strong>nC.sh</strong> script. See points 3, 4 and 5 below. Note also the information there
                about running neuroConstruct with extra RAM.</li>


            </ol>

            <p>&nbsp;&nbsp;<strong>Zip file install</strong></p>

            <ol>
                <li>Download <strong>neuroConstruct_1.x.x.zip</strong> from the <a href="http://www.neuroconstruct.org/nCinfo/form.php">download page</a>.
                This contains a directory tree from <strong>neuroConstruct_1.x.x</strong>, containing the main jar file and directories with the examples, documentation, etc.</li>

                <li>Unzip this to a convenient location e.g. to <strong>/home/username/neuroConstruct_1.x.x</strong>.</li>


            <li>There is a precompiled jar file, (<strong>neuroConstruct_1.x.x.jar</strong>) present.
                neuroConstruct can be run using this by executing <strong>./nC.sh</strong>, either at the command prompt in the installation directory or
                by double clicking on it in the file explorer. You will need to give execute permissions to the file first: <strong>chmod u+x nC.sh</strong>.
                NOTE: you will have to open <strong>nC.sh</strong> for editing first and change the value
                of <strong>NC_HOME</strong> to the installation directory.</li>

                <li>The <strong>NC_MAX_MEMORY=450M</strong> used in this file changes the maximum amount of memory available to the Java Virtual Machine.
                Alter this according to your machine's capabilities (use approx 50% of max memory available).</li>


            <li>The Java source code of neuroConstruct is included in the <strong>src</strong> directory. This can be recompiled using: <strong>./nC.sh -make</strong>.
            You'll need the Java compiler availabe at command line (try typing <strong>javac -version</strong>).
                It is also possible to install <a href="http://ant.apache.org/">Apache Ant</a> and compile (type <strong>ant</strong>) and run (type <strong>ant run</strong>)
                the code using the settings in <strong>build.xml</strong>.</li>


                </ol>


        </section>

        

        

        <section>
            <title>Post installation</title>


            <p>Check that the location of the NEURON home dir is properly set. Go to <strong>Settings -> General Properties &amp; Project
                Defaults</strong> for this. Also check on the command line for running executables in a new terminal window via Java.
                The suggested command lines have been tested on WinXP, Red Hat Linux, SUSE and Mac.</p>


            <p>When the application is run for the first time, it will create 2 files in a directory .neuroConstruct in your home directory:</p>


            <table class="noborder">

                <tr>
                    <td  ><em>{USER_HOME} /.neuroConstruct/neuroConstruct.props</em></td>
                    <td >Stores project independent information, e.g. default 3D settings, location of NEURON files, etc.</td>
                </tr>
                <tr >
                    <td  ><em>{USER_HOME} /.neuroConstruct/neuroConstruct.recent</em></td>
                    <td >Stores list of recent project files</td>
                </tr>
            </table>

            <p><strong>Do not edit these files directly!</strong> Use <strong>Settings -> General Properties</strong> for this.</p>


        </section>


        <p>&nbsp;</p>
        <p>&nbsp;</p>
    </body>
</document>
